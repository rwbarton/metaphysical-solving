{% extends "puzzles/base_generic.html" %}

{% load static %}

{% block title %}History{% endblock %}

{% block content %}
<h2 class="stat-page-header">View Stats for "<a href="{% url 'puzzles.views.puzzle' puzzle.id %}">{{ puzzle.title }}</a>"</h2>

<div>
   <h2 class="stat-page-small-header">In the last few minutes</h2>
  {% if current_solvers %}
<table class="stat-page-table">
  {% for solver in current_solvers %}
  <tr> <td class="person left">{{solver.first_name}} {{solver.last_name}} ({{solver.userprofile.location}})</td></tr>
  {% endfor %}
</table>
{% else %}
<i>None</i>
{% endif %}
</div>
<div>
  <h2 class="stat-page-small-header" style="margin-top:40px;">Historical Views</h2>
  <table class="stat-page-table">
    <tr>
      <th>Person</th> <th>Total Open Puzzle Tab Hours</th>
    </tr>
  {% for record in historical_solvers %}
    <tr>
      <td class="person left">{{record.0.first_name}} {{record.0.last_name}} ({{record.0.userprofile.location}})</td>
      <td>{{record.1|floatformat}}</td>
    </tr>
    {% endfor %}
    </table>
{% endblock %}
