{% extends "puzzles/base_generic.html" %}

{% load static %}

{% block title %}Hint Queue{% endblock %}

{% block content %}
<div id="overview"> <!-- XXX The css is all wrong here. -->
  <h1>Unresolved Hints</h1>
  {% if queued_hints %}
  <table class="puzzle-list">
    <tbody>
      <tr class="puzzle-list-header">
          <td style="padding-left:10px;padding-right:10px"></td>
	<th style="padding-left:10px;padding-right:10px">Puzzle</th>
	<th style="padding-left:10px;padding-right:10px">Requestor</th>
          <th style="padding-left:10px;padding-right:10px">Created</th>
          <th style="padding-left:10px;padding-right:10px"></th>
	<th style="padding-left:10px;padding-right:10px">Details</th>
      </tr>
      {% for queued_hint in queued_hints %}
      <tr class="puzzle-list-regular">
          <td style="color:red;padding-left:10px;padding-right:10px">{% if queued_hint.urgent %} <b>!</b> {% endif %}</td>
	<td class="puzzle-list-puzzle">
	  <a href="{{ queued_hint.puzzle.url }}">{{ queued_hint.puzzle.title }}</a>
    </td>
      	<td style="padding-left:10px;padding-right:10px">
	  {{ queued_hint.user.first_name }} {{ queued_hint.user.last_name }}
	</td>
      <td style="padding-left:10px;padding-right:10px">{{ queued_hint.createdTime|date:'H:i D' }}</td>
          <td style="padding-left:10px;padding-right:10px"><a href="{% url 'puzzles.views.hint_resolve' queued_hint.id %}"> Close </a> </td>
	<td style="padding-left:10px;padding-right:10px">
	  {{ queued_hint.details }}
	</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  The queue is empty.
  {% endif %}

  <h1>Resolved Hints</h1>
  {% if resolved_hints %}
      <table class="puzzle-list">
    <tbody>
   <tr class="puzzle-list-header">
       <th style="padding-left:10px;padding-right:10px"></th>
	<th style="padding-left:10px;padding-right:10px">Puzzle</th>
	<th style="padding-left:10px;padding-right:10px">Requestor</th>
          <th style="padding-left:10px;padding-right:10px">Modified</th>
          <th style="padding-left:10px;padding-right:10px"></th>
	<th style="padding-left:10px;padding-right:10px">Details</th>
      </tr>
      {% for queued_hint in resolved_hints %}
       <tr class="puzzle-list-regular">
          <td style="padding-left:10px;padding-right:10px">{% if queued_hint.urgent %} <b>!</b> {% endif %}</td>
	<td class="puzzle-list-puzzle">
	  <a href="{{ queued_hint.puzzle.url }}">{{ queued_hint.puzzle.title }}</a>
    </td>
      	<td style="padding-left:10px;padding-right:10px">
	  {{ queued_hint.user.first_name }} {{ queued_hint.user.last_name }}
	</td>
      <td style="padding-left:10px;padding-right:10px">{{ queued_hint.modifiedTime|date:'H:i D' }}</td>
          <td style="padding-left:10px;padding-right:10px"><a href="{% url 'puzzles.views.hint_resolve' queued_hint.id %}"> Reopen </a> </td>
	<td style="padding-left:10px;padding-right:10px">
	  {{ queued_hint.details }}
	</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  No resolved hints.
  {% endif %}
</div>
{% endblock %}
